<root data-root="JavaScript判断">
    <!-- 判断语句 -->
    <section class="mt0">
        <h3>JavaScript条件判断语句</h3>
        <p>JavaScript作为一门编程语言，自然会处理程序中的各种逻辑，而这些逻辑最基本的实现就是需要依靠<em>判断语句</em>，这些判断语句使得程序更能贴近人类的正常思维模式，去处理一些更加复杂的功能，它也是我们讲的“面向对象思维”中的一个核心部分。</p>
        <p>何为“判断”？如晚上回到家中后就会面临一个选择，是选择开灯还是不开灯（只有两种情况），如果选择开灯，那是要开哪个灯（可能有多种选择，如客厅灯、玄关灯、餐厅灯等），这样的选择就我们所作出的“判断”。又如，早上我们去上班，选择何种交通方式，公交？地铁？自驾？这些都是我们需要作出的“判断”。</p>
        <p>而在JavaScript等编程语言中，程序作出判断的依据是<em>条件</em>，何为“条件”？同样拿我们上班选择的交通方式来说，如果我们身上只有两元的硬币，那我们只能选择公交车，如果我们有卡（如“一卡通”等可以通用的卡），那我们既可以选择乘公交又可以选乘地铁，如果我们身上既没有零钱也没有卡，那就只能选择自驾了。选择自驾后，如果我们家里有两种交通工具——汽车和电动摩托车，我们又会根据当前的实际情况（如有没有下雨、交通是否拥堵等）来选择哪一种，而这些情况在程序里都可以称作“条件”。</p>
        <p>所以，所谓的“条件判断语句”，即是必须要满足某种“条件”才会去“判断”并执行的“语句”。在JavaScript中有三种基本的条件判断语句，“三元表达式”、“if...else判断语句”和“switch-case判断语句”，接下来我们开始对这三种条件判断语句进行详细的学习。</p>
    </section>
    <!-- 三元表达式 -->
    <section>
	    <h3>三元运算符</h3>
	    <p>三元运算符，又叫“三元表达式”，也有叫做“条件运算符”的。它的成立是需要三个操作数（常量或者变量），故而得名。它最终可以返回表达式内冒号“<em>:</em>”之前或之后其中一个的值。它的基本语法结构为：</p>
	    <p><em>条件? 结果1 : 结果2</em></p>
	    <p>这里的“条件”指的是，通常是通过“比较运算符”对两个操作数进行运算，最终得出的值为一个“布尔值”，当它运算的结果为“true”的时候执行“结果1”中的语句，当它的运算结果为“false”的时候执行“结果2”，这是一个定式，三者之间的位置不可变换。</p>
        <p>首先我们来看让“条件”产生的“比较运算符”有哪些：（示例中假设“x=5”）</p>
        <table class="normal cols-4 perc90">
            <tr>
                <th>运算符</th>
                <th>作用</th>
                <th>示例</th>
                <th>结果</th>
            </tr>
            <tr>
                <td>==</td>
                <td>等于判定</td>
                <td>x == 5</td>
                <td>true</td>
            </tr>
            <tr>
                <td>===</td>
                <td>严格等于判定</td>
                <td>x === "5"</td>
                <td>false</td>
            </tr>
            <tr>
                <td>&gt;</td>
                <td>大于判定</td>
                <td>x &gt; 7</td>
                <td>false</td>
            </tr>
            <tr>
                <td>&lt;</td>
                <td>小于判定</td>
                <td>x &lt; 7</td>
                <td>true</td>
            </tr>
            <tr>
                <td>&gt;&#61;</td>
                <td>大于或等于判定</td>
                <td>x &gt;&#61; 5</td>
                <td>true</td>
            </tr>
            <tr>
                <td>&lt;&#61;</td>
                <td>小于或等于判定</td>
                <td>x &lt;&#61; 5</td>
                <td>true</td>
            </tr>
            <tr>
                <td>!&#61;</td>
                <td>不等于判定</td>
                <td>x !&#61; 5</td>
                <td>false</td>
            </tr>
            <tr>
                <td>!&#61;&#61;</td>
                <td>严格不等于判定</td>
                <td>x !&#61;&#61; "5"</td>
                <td>true</td>
            </tr>
        </table>
        <p>当“条件”产生之后，程序就会运行到“结果”的地方，而这个结果可以是六种数据类型中的一个直接的简单返回值，如例：</p>
        <code class="indent">
            <img src="img/code/jscode/code-js-017.jpg">
        </code>
        <p>这个结果还可以是一个赋值运算符操作：</p>
        <code class="indent">
            <img src="img/code/jscode/code-js-018.jpg">
        </code>
        <p>上面已经提到了过，三元运算符可以返回的结果可以是JS六种数据类型，那它也能返回像“对象”和“函数”这种“大型”值的。但需要注意的是，“结果”中值只能为运算符和操作数，不能出现其它符号，如分号“;”，这样会使语句报错。如果要使“结果”为一个语句组，通常是去直接调用一个函数，或者运行一个匿名函数。下面是“结果1”的值为一个“即执行匿名函数”的例子：</p>
        <code class="indent">
            <img src="img/code/jscode/code-js-019.jpg">
        </code>
        <p>我们可以通过上例明显看得出来，如果将“结果”编写成一个匿名函数的话，会使三元运算符显得比较混乱，层次不清。所以，为了让三元运算符能更清晰直观地表现出它的逻辑结构，如果需要执行函数那也通常是去调用一个有名称的函数。上面的示例经过改写后如下：</p>
        <code class="indent">
            <img src="img/code/jscode/code-js-020.jpg">
        </code>
	</section>
	<!-- if判断 -->
	<section>
	    <h3>if条件判断语句</h3>
	    <p>“if条件语句”又称“if-else判断”、“if判断语句”，是现如今JS程序开发中最为常用的一种“条件判断”方式，之所以常用，其实并不是说这种语句是程序中的“最好选择”，而纯粹是因为但语法简单，结构清晰，应用场景很“万能”。从性能角度出发，三元运算符是要高于if语句的，因为三元运算符的结果只有两种，而且必须返回其中一种结果，而if语句的结果可以是一种，也可以是多种，根据条件可以执行，也可以不执行。这就导致浏览器的JavaScript引擎（解释器，JS是一种解释性的脚本语言）在对这两种判断语句所做的数据处理过程有所差异。只有两种结果的判定语句对于JS引擎来说，只需要做出两种处理，而像if语句这种结果数量不确定的语句来说，JS引擎需要做的事情理所会多一些。</p>
	    <p>上面提到if条件语句可以只有一条，也可以是多条，那我们首先就来看看，当if语句只有一条的一段程序：</p>
	    <code class="indent">
            <img src="img/code/jscode/code-js-021.jpg">
        </code>
        <p>这就是当if语句只有一条的时候的一种简单的表现形式，“if”这个关键是在这里的意思为“如果”。这种用法一般是用在满足某种条件才去执行，否则不去执行的情况。如这样一个应用场景：用户进入一个网站后，此时的一个全局变量“loginStatus”（登录状态）为“false”（没有登录），当用户点击一个名为“管理”的超链接按钮的时候，程序就需要作出一个判断，if（如果）“loginStatus”的值为“false”，即：“if(loginStatus == false)”的时候，需要运行if内的语句组，语句组的功能是禁用超链接的默认功能（指进行页面跳转的功能），并在页面中弹出一个登录框，提醒用户登录。也就是当语句“loginStatus == false”这条语句不成立的时候，通过该超链接跳转到“管理”页面的并获取数据库数据的功能仍然正常执行。</p>
        <p>if条件语句通常情况下需要和<em>else</em>去搭配使用，用于处理一些一定需要返回一个结果的情况（如：开关、显隐、是否等操作），这里的“else”意思为“否则”，它是不需要加上条件语句的，直接可以作为一个关键字使用，如例：</p>
        <code>
            <img src="img/code/jscode/code-js-022.jpg">
        </code>
        <p>上例中的后面我们又加上了一个“三元表达式”和“if else”的判断方式做了对比，可以发现“if else”的结构更清晰易懂，但代码量稍多，而“三元表达式”更简短，但理解上会稍微困难点。从性能角度上来讲，这样简单的判断其实并没有明显的差异。但如果只是一个类似这样的判断，更推荐使用“三元表达式”，毕竟在程序中，代码量少一些，字节量就少一些。积少成多，页面的加载速度也会快很多。</p>
        <p>if语句，除了这种简单判断，它还能组成一个<em>语句链</em>来处理一个应用场景内更多的情况，语句链内会出现“if”、“else if”和“else”这三个关键字，他们代表的意识依次为“如果”、“否则如果”、“否则”。</p>
        <p>HTML代码部分如下：</p>
        <code class="indent">
            <img src="img/code/jscode/code-js-023.jpg">
        </code>
        <p>JavaScript代码部分如下：</p>
        <code class="indent">
            <img src="img/code/jscode/code-js-024.jpg">
        </code>
        <p>当然，上例中的代码完全是为了示例，为了减少代码量，提升程序效率，通常会将JS代码部分简写这样的形式：</p>
        <code class="indent">
            <img src="img/code/jscode/code-js-025.jpg">
        </code>
        <p>在某些复杂一些的需求里面，每一种可能性都又存在几种可能性的分支，用简单的几种可能性已难以覆盖程序功能的每一种可能出现的需求了。这个时候就需要用到if语句的嵌套了，如这样一个应用场景：</p>
        <code>
            <img src="img/content/javascript/married-flow.jpg">
        </code>
        <p>遇到这样的情况，首先我们要分析出情况的可能性，哪些可能只有一种，哪些只会有两种选择，哪些是可能出现多种可能性的，甚至不能确定最终可能性的。我们尝试用一个if语句来实现以上的场景需求。</p>
        <code>
            <img src="img/code/jscode/code-js-026.jpg">
        </code>
        <p>其实，“if”语句条件后面的“{}”也不是必须的，完全是可以省略的。但这只能用于当前“if-else”语句后只有一条语句的时候（可以是一个普通表达式，运算符或函数）。如果采用这种写法，而“if-else”语句后有多条语句，那程序会报错。</p>
        <p>这是当每条“if-else”语句后没有加上花括符的一个示例：</p>
        <code>
            <img src="img/code/jscode/code-js-030.jpg">
        </code>
	</section>
	<!-- switch case -->
	<section>
	    <h3>switch-case条件选择语句</h3>
	    <p>该语句是用于“if-else语句链”过长，并且条件确定只有一个，并等于该条件时候的情况。这个类型的判断语句可以使得逻辑结构更加清晰明了。该语句在执行条件判断的时候，执行的条件相当于严格相等“===”，而不是相等“==”，即不会对条件的值的类型进行转换，这点在使用的时候一定要注意。</p>
	    <p>在互联网书籍刊物出版有相当权威的<em title="公司原址在美国加利福利亚，后在世界均有分布。互联网技术图书领域具有领导地位的出版公司">O'Reilly</em>出版的《高性能JavaScript》（原著：<em title="JavaScript界的顶级权威人物，出版的《JavaScript高级程序设计》被誉为JavaScript语言的颠覆之作">Nicbolas C.Zakas</em>）在第四章“条件语句”一节中明确提到：</p>
	    <p>
	    	<cite class="indent">事实证明，大多数情况下switch比if-else运行得要快，但只有当条件数量很大是才快得明显。这两个语句的主要性能区别是：当条件增加时，if-else性能负担增加的程度比switch要多（大多数的语言switch语句的实现都采用了<em title="分支表">branch table</em>索引来进行优化，在JavaScript中，switch语句比较值时使用全等操作符，不会发生类型转换的耗损）。因此，我们自然倾向于在条件数量少时使用if-else，而在条件数量较大时使用switch，这从性能方面考虑也是合理的。</cite>
	    </p>
	    <p>看这样一个示例来了解该条件语句的基本结构：</p>
	    <code class="indent">
            <img src="img/code/jscode/code-js-027.jpg">
        </code>
        <p>这里相当于定义了一个功能函数，当函数被执行的时候会根据参数的值去做条件判断，即用函数的参数和“switch-case语句”内“case”空格后的值做“===”比较运算，若返回的值为“true”，那就会执行紧跟下方的语句，否则进入下一个“case”判断语句，若所有“case”的不满足条件，几会执行“default”下方的语句。</p>
        <p>和“if else语句”中的“else”一样，“switch-case判断语句”中的“default”语句也不是必须的，但为了程序的“健壮性”考虑，很多时候仍然建议将“default”的情况也加上。</p>
        <p>上方的代码示例在被调用，并传入参数的运行结果如下：</p>
        <code class="indent">
            <img src="img/code/jscode/code-js-028.jpg">
        </code>
        <p>经过观察可以发现，每个“case语句”的最后都会出现一个“break”，它在这里的作用是：当“case语句”中的条件成立时，“case语句”下面的语句在执行完成后会立刻跳出整个“switch-case” 结构。即，如果没有这个“break”，语句会始终接着去执行下一个“case语句块”，而不会跳出。</p>
        <p>如果我们不使用“break”语句，观察一下代码在“Google Chrome浏览器控制台”内的执行效果：</p>
        <code class="indent">
            <img src="img/code/jscode/code-js-029.jpg">
        </code>
        <p>可以很直观地看到，函数被调用的使用输入的参数是“星期三”，本来期望值的结果为“玩游戏”，但实际上除了“玩游戏”这个结果以外，当前“case语句”之后的代码全部被执行了，即程序贯穿了成立条件之后的所有语句。如果“case”下方执行的是一个为变量赋值的语句，那无论输入何值的时候，得到的结果都是“switch-case” 结构中的最后一条语句的执行结果</p>
    </section>
    <!-- 章节练习 -->
    <section class="unitPractice">
        <h3>&lt;章节练习&gt;</h3>
        <p>仔细分析本章中“是否结婚”流程图信息，并完成下面需求：</p>
        <p>1、请用“三元表达式”来简化“是否结婚”流程的逻辑；</p>
        <p>2、完善“if语句嵌套”代码示例中需要用“switch-case”语句来完成的的部分；</p>
        <p>3、“学校名称部分”至少提供3所学校，都执行语句“alert("这学校不错呢。")”，除此之外都执行“alert("这学校在什么地方呢？")”；</p>
        <p>4、“什么时候生”提供至少三个选项，前三年的选项都执行语句“alert("那祝你早生贵子哦！")”，除此之外都是行“alert("为什么呢？")”</p>
        <p>5、“什么时候找”提供至少三个选项“正在找呢”、“快了快了”、“还不知道呢”，分别执行“alert("那加油咯！")”、“alert("要加把劲了哦！")”和“alert("要不我给你介绍一个？")”，除此之外都执行“alert("为什么呢？")”</p>
	</section>
</root>






