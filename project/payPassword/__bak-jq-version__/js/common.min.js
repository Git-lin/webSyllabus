$(function(){$(".gotoPay").click(function(){$.get("pages/pay.html",function(a){$("page[data-page]:nth-of-type(3) > main").html(a);$("page[data-page]:nth-of-type(3)").css("right","0")})});$("header span[data-href]").click(function(){var a=$(this).attr("data-href");if(a=="index"){$("page[data-page]:nth-of-type(3)").css("right","-100%")}else{if(a=="pay"){$("#inputMoney").val("");$("page[data-page]:nth-of-type(4)").css("right","-100%")}}});$(document).on("click","#alertPayComp",function(){var e=$("#inputMoney").val(),b=(parseFloat(e).toFixed(2)=="NaN")?0:parseFloat(e).toFixed(2);if(b==0){alert("请至少支付“0.01”元");return false}$("body").append('<div class="maskLayer"></div><div class="payInfoBox"><div class="payInfoBox-main"><div class="closeBox">×</div><p>请输入支付密码</p><p class="objName">向<span>皮卡丘</span>转账</p><p class="money">￥<span>'+b+'</span></p><p class="erro"></p><div class="payPwd"><div></div><div></div><div></div><div></div><div></div><div></div></div></div></div><div data-keyboard-number><div class="numKey">7</div><div class="numKey">8</div><div class="numKey">9</div><div class="numKey">4</div><div class="numKey">5</div><div class="numKey">6</div><div class="numKey">1</div><div class="numKey">2</div><div class="numKey">3</div><div></div><div class="numKey">0</div><div class="delKey">←</div></div>');$(".closeBox").click(function(){$(".maskLayer").fadeOut(600,function(){$(this).remove()});$(this).parents(".payInfoBox").fadeOut(600,function(){$(this).remove()});$(this).parents(".payInfoBox").next().fadeOut(600,function(){$(this).remove()})});var d="147369";var a=[];var c=0;$("[data-keyboard-number] div.numKey").click(function(){$(".payInfoBox-main .erro").text("");if(c<6){var h=$(this).text();a.push(h);$(".payPwd div").eq(c).html("<i></i>");c++;if(c==6){if(d==a.join("")){var f=$(".payInfoBox .money span").text();$(".maskLayer,.payInfoBox").fadeOut(300,function(){$(this).remove()});$("div[data-keyboard-number]").slideUp(300,function(){$(this).remove()});var g=$("page[data-page='支付结果']");g.css("right","0px");$.get("pages/result.html",function(i){g.children("main").html(i);$("#successMoney").text(f)})}else{$(".payInfoBox-main .erro").text("密码输入错误");$(".payPwd div i").remove();c=0;a.length=0}}}});$("[data-keyboard-number] div.delKey").click(function(){if(c>0){$(".payPwd div").eq(c-1).children("i").remove();c--}})})});