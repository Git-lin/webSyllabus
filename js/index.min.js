function navChecked(e){function n(e){$.get(e,function(e){$(".content").html(GLOBAL.loadingAnimate),setTimeout(function(){$(".content").html(e)},10)});var t=location,i=(t.origin,t.pathname,e.substr(e.lastIndexOf("/")+1)),o=i.length,a=i.substr(i.indexOf(".")),s="";".php"===a||".htm"===a||".jsp"===a||".asp"===a||".pyc"===a||".xml"===a?s=i.substr(0,o-4):(a=".html")&&(s=i.substr(0,o-5)),location.href=t.origin+t.pathname+"#"+s}$(e).addClass("checked").siblings("li").removeClass("checked");var t=$(e).index();switch(t){case 0:n("html-pages/html/html-welcome.html");break;case 1:n("html-pages/css/css-welcome.html");break;case 2:n("html-pages/javascript/js-welcome.html");break;case 3:n("html-pages/jquery/jq-welcome.html");break;case 4:n("html-pages/vuejs/vue-welcome.html");break;case 5:n("html-pages/angularjs/ng-welcome.html");break;case 6:n("html-pages/more/more-welcome.html");break;default:n("html-pages/html/html-welcome.html")}}function leftNavLoad(){$("nav.topNav li").on("click",function(){var e=function(e){$.get(e,function(e){var t=$("nav.leftNav"),n=t.has("ul").length;n&&t.children("ul").remove(),t.html(e)})},t=$(this).index();switch(t){case 0:e("html-module/html.html");break;case 1:e("html-module/css.html");break;case 2:e("html-module/javascript.html");break;case 3:e("html-module/jquery.html");break;case 4:e("html-module/vue.html");break;case 5:e("html-module/angularjs.html");break;case 6:e("html-module/more.html");break;default:e("html-module/more.html")}})}function loadContentPage(){$(document).on("click",".leftNav a",function(e){e.preventDefault();var t=$(".content"),n=$(this).attr("href");t.html(GLOBAL.loadingAnimate),$(this).addClass("checked").parent("li").siblings("li").children("a").removeClass("checked"),$.get(n,function(e){GLOBAL.removeLoadingAnimate(),t.html(e);var n=$(".dynamicAnchor ul"),r=$("root[data-root]").find("section"),i=r.length;n.html("");for(var o=0;i>o;o++){r.eq(o).children("h3").attr("id","sec-"+o);var a=r.eq(o).children("h3").html();n.append('<li><a href="#sec-'+o+'">'+a+"</a></li>")}setColorTag(),setCodeStyle("code.cmd","color: #b132ff; font-weight: bold",["html","css","javascript","bootstrap","jquery","vue","angular","react","gulp","webpack","babel"]),setIDEStyle_html("code.ideCode-html"),setIDEStyle_js("code.ideCode-js",lightColorCode);var s=$("div[data-complete-count]");s.attr("data-complete-count","0");var l=$("iframe[data-iframe-coderun].codeEffect"),u=l.length,c=setInterval(function(){var e=s.attr("data-complete-count");if(u==e){for(var t=0;u>t;t++){var n=l.eq(t).contents().find("html").outerHeight();l.eq(t).css("height",n+26+"px")}window.clearInterval(c)}},100)})})}function toggleToTopButton(){var e=$(".main[data-main]").children(".content"),t=e.scrollTop(),n=$("a.toWinTop");t>500?n.css("bottom","6px"):n.css("bottom","-48px")}function contentToTop(){var e=$(".main[data-main]").children(".content");e.animate({scrollTop:"0"},600)}function animateScrollTarget(e,t){t.preventDefault;var n=$(e).parent().index(),r=$("section h3").eq(n).offset().top,i=$("[data-main]").children(".content"),o=i.scrollTop();i.animate({scrollTop:o+r-74+"px"},600),$(e).addClass("active").parent().addClass("active").siblings("li").removeClass("active").children().removeClass("active")}function setAnthorAction(){for(var e=$("[data-root]").children("section"),t=e.length,n=0;t>n;n++){var r=e.eq(n).offset().top;if(300>r&&r>-74)return $(".dynamicAnchor li").eq(n).addClass("active"),$(".dynamicAnchor li").eq(n).children("a").addClass("active"),void $(".dynamicAnchor li").eq(n).siblings("li").removeClass("active").children("a").removeClass("active")}}function newGuide(){if(localStorage.getItem("visitTimes")){var e=parseInt(localStorage.getItem("visitTimes"));localStorage.setItem("visitTimes",e+1)}else localStorage.setItem("visitTimes",0),$("body").append('<div class="firstNewGuide"></div><div class="maklayer-white"></div>');var t=$(".firstNewGuide"),n=$(".maklayer-white");$(".leftNav").mouseenter(function(){t.css({"transition-duration":"1.6s",transform:"translate(2000px,-260px) rotate(720deg)",opacity:"0"}),n.fadeOut(600),setTimeout(function(){t.remove(),n.remove()},1600)})}function loginVerify(){var e=$("[data-leftLogin]");$("header .logo").click(function(){e.css({visibility:"visible",opacity:"1",left:"0"})}),$("[data-leftLogin]").click(function(){e.css({visibility:"hidden",opacity:"0",left:"-180px"}),$("body").append('<div class="maklayer-white allMask"></div><div class="loginBox"><div class="closeBox">×</div><h1>请输入您的登录信息</h1><form><div><label>账 号</label><input id="account" type="text" placeholder="请输入指定账号"></div><div><label>密 码</label><input id="accPwd" type="password" placeholder="请输入指定密码"></div><div class="errInfo"></div><div><button id="btnUserLogin" type="button">登 录</button></div></form></div>');var t=$(".loginBox");setTimeout(function(){t.css({visibility:"visible",transform:"scale(1)"})},60),$("#btnUserLogin").click(function(){var e=$("#account").val(),n=$("#accPwd").val();"aulence"==e&&"html5web"==n?(localStorage.setItem("account","aulence"),localStorage.setItem("accPwd","html5web"),t.children(".closeBox").trigger("click"),shortTimeMessage("登录成功！"),$(".logo").remove()):(t.find(".errInfo").text("-_-! 您输入的账号或者密码错误"),$("#account, #accPwd").blur())}),$(document).keydown(function(e){var t=e.keyCode;13==t&&$("#btnUserLogin").click()}),$("#account, #accPwd").focus(function(){t.find(".errInfo").text("")}),t.children(".closeBox").click(function(){$(this).parent().css("transform","scale(0)").prev(".maklayer-white").css("opacity","0"),setTimeout(function(){t.prev().remove(),t.remove()},600)})})}function shortTimeMessage(e){$("body").append('<div class="shortTimeMessage">'+e+"</div>");var t=$(".shortTimeMessage"),n=t.outerWidth(),r=t.outerHeight();t.css({"margin-left":-(n/2)+"px","margin-top":-(r/2)+"px",opacity:"1"}),setTimeout(function(){t.fadeOut(600,function(){$(this).remove()})},1600)}function setColorTag(){for(var e=$("root[data-root] color"),t=e.length,n=0;t>n;n++){var r=e.eq(n),i=e.eq(n).text();r.css("color",i)}}function setCodeStyle(e,t,n){for(var r=n,i=r.length,o=0;i>o;o++){var a=r[o];$(e).each(function(e,n){var r=$(n).html();r=r.replace(new RegExp(a),"<span style='"+t+"'>"+a+"</span>"),$(n).html(r)})}}function setIDEStyle_html(e){var t=$(e),n="";t.each(function(e,t){if(n=$(t).html(),/=/.test(n)){for(var r=n.match(/\w+\-?\w+=/g),i=[];r.length;){var o=r.pop();-1===i.indexOf(o)&&i.push(o)}var a=i.indexOf("style=");-1!==a&&(i.splice(a,1),i.unshift("style="));for(var s=0;s<i.length;s++)n=n.replace(new RegExp(i[s],"g"),"<span style='color:#8bd12e'>"+i[s]+"</span>");for(var l=n.match(/=<\/span>".+?"/gm),u=[];l.length;){var c=l.pop();-1===u.indexOf(c)&&u.push(c)}for(var s=0;s<u.length;s++)n=n.replace(new RegExp(u[s],"g"),"=</span><span style='color:#ece077'>"+u[s].slice(8)+"</span>")}for(var f=n.match(/&lt;\/?(\w+|\-?)/gim),d=[];f.length;){var p=f.pop();-1===d.indexOf(p)&&d.push(p)}$.each(d,function(e,t){n=n.replace(new RegExp(t,"gim"),"&lt;<span style='color:#ff6d6d'>"+t.slice(4)+"</span>")});for(var h=n.match(/&gt;.*?&lt;/gm),g=[];h.length;){var m=h.pop();-1===g.indexOf(m)&&g.push(m)}$.each(g,function(e,t){n=n.replace(new RegExp(t,"gim"),"&gt;<span style='color:#eaeaea'>"+t.slice(4,t.lastIndexOf("&"))+"</span>&lt;")}),$(t).html(n)})}function setIDEStyle_js(e,t){for(var n in t)for(var r=t[n],i=r.length,o=0;i>o;o++)$(e).each(function(e,r){var i=$(r).html(),a=!1;"mainObject"===n?(i="$"===t[n][o]?i.replace(new RegExp("\\$","gm"),"<span style='color:#ff6d6d'>$</span>"):i.replace(new RegExp(t[n][o],"gim"),"<span style='color:#ff6d6d'>"+t[n][o]+"</span>"),a=!0):"keywords"===n?/^\\/.test(t[n][o])?(i=i.replace(new RegExp(t[n][o],"gim"),"<span style='color:#ff3f77'>"+t[n][o].slice(1)+"</span>"),a=!0):(i=i.replace(new RegExp(t[n][o],"gim"),"<span style='color:#ff3f77'>"+t[n][o]+"</span>"),a=!0):"special"===n&&(i=i.replace(new RegExp(t[n][o],"gim"),"<span style='color:#87ff87'>"+t[n][o]+"</span>"),a=!0),a&&($(r).html(i),a=!1)});$(e).each(function(e,t){var n=$(t).html(),r=/\".*?\"/gm,i=n.match(r),o=null!==i?i.length:0;0!==o&&$(t).html(n)}),$(e).each(function(e,t){var o,n=$(t).html(),r=/var<\/span>\s\w+/gm,i=n.match(r);if(null===i)return void(o=0);o=i.length;for(var a=[],s=0;o>s;s++)a.push(i[s].slice(i[s].lastIndexOf(" ")+1));for(var l=a.length,u=0;l>u;u++)n=n.replace(new RegExp(a[u],"gm"),"<span style='color:#ee6aff'>"+a[u]+"</span>");$(t).html(n)}),$(e).each(function(e,t){var o,n=$(t).html(),r=new RegExp("\\.\\w+\\(","g"),i=n.match(r);if(null===i)return void(o=0);o=i.length;for(var a=0;o>a;a++){var s=i[a].slice(1,i[a].length-1);n=n.replace(s,"<span style='color:#51ebff'>"+s+"</span>")}$(t).html(n)}),$(e).each(function(e,t){var o,n=$(t).html(),r=/[^\w\-\#]\d+/gm,i=n.match(r);if(null===i)return void(o=0);o=i.length;for(var a=0;o>a;a++)n=n.replace(new RegExp(i[a],"gm"),"<span style='color:#fc8500'>"+i[a]+"</span>");$(t).html(n)}),$(e).each(function(e,t){var o,n=$(t).html(),r=/\/\/\s[\u3000-\u9FFF\w\.]+/gm,i=n.match(r);if(null===i)return void(o=0);o=i.length;for(var a=0;o>a;a++)n=n.replace(new RegExp(i[a],"gm"),"<span style='color:#acacac'>"+i[a]+"</span>");$(t).html(n)})}var _testGLOBAL_,GLOBAL={loadingAnimate:'<div class="loading"><span></span><span></span><span></span></div>',removeLoadingAnimate:function(){$(".content").children(".loading").remove()},verifyAccount:function(){return localStorage.getItem("account")?localStorage.getItem("account"):""}(),verifyPassword:function(){return localStorage.getItem("accPwd")?localStorage.getItem("accPwd"):""}(),userAccount:function(){return this.verifyAccount},userPassword:function(){return this.verifyPassword}},lightColorCode={mainObject:["$","JSON","window","navigator","console","screen","function"],keywords:["var","let ","const ","break ","do ","typeof","if","else","case ","new ","return ","continue","for","swich","while","debugger","this ","with","try","catch","throw","delete ","default","set","get","class","import ","alert"],special:["selector","Element","TagName","ClassName","ID","AttributeName","param","params"]};$(function(){"aulence"==GLOBAL.userAccount()&&"html5web"==GLOBAL.userPassword()?$(".logo").remove():$("header .logo").fadeIn(3e3),newGuide(),$.get("html-module/html.html",function(e){$(".main .leftNav").html(e)}),$.get("html-pages/html/html-welcome.html",function(e){$(".main .content").html(e)}),$("header nav li").click(function(){navChecked(this)}),leftNavLoad(),loadContentPage(),$(".toggleDynamicAnchor").on("click",function(){var e=0!=$("root[data-root] section").length;e?$(this).next(".dynamicAnchor").toggle(200):$(this).next(".dynamicAnchor").hide(200)}),$(document).off("click",".dynamicAnchor a").on("click",".dynamicAnchor a",function(e){animateScrollTarget(this,e)}),$(".content,.dynamicAnchor").on("click",function(){$(".dynamicAnchor").hide(300)}),$(".content").scroll(function(){toggleToTopButton(),setAnthorAction()}),$("a.toWinTop").on("click",function(){contentToTop()}),loginVerify()});
