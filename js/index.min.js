function navChecked(e){function a(e){$.get(e,function(e){$(".content").html(GLOBAL.loadingAnimate),setTimeout(function(){$(".content").html(e)},10)});var t=location,l=(t.origin,t.pathname,e.substr(e.lastIndexOf("/")+1)),o=l.length,c=l.substr(l.indexOf(".")),i="";".php"==c||".htm"==c||".jsp"==c||".asp"==c||".pyc"==c||".xml"==c?i=l.substr(0,o-4):(c=".html")&&(i=l.substr(0,o-5)),location.href=t.origin+t.pathname+"#"+i}$(e).addClass("checked").siblings("li").removeClass("checked");var t=$(e).index();switch(t){case 0:a("html-pages/html/html-welcome.html");break;case 1:a("html-pages/css/css-welcome.html");break;case 2:a("html-pages/javascript/js-welcome.html");break;case 3:a("html-pages/jquery/jq-welcome.html");break;case 4:a("html-pages/bootstrap/bs-welcome.html");break;case 5:a("html-pages/angularjs/ng-welcome.html");break;case 6:a("html-pages/react/react-welcome.html");break;case 7:a("html-pages/more/more-welcome.html");break;default:a("html-pages/html/html-welcome.html")}}function leftNavLoad(){$("nav.topNav li").on("click",function(){var e=function(e){$.get(e,function(e){var t=$("nav.leftNav"),a=t.has("ul").length;a&&t.children("ul").remove(),t.html(e)})},t=$(this).index();switch(t){case 0:e("/html-module/html.html");break;case 1:e("/html-module/css.html");break;case 2:e("/html-module/javascript.html");break;case 3:e("/html-module/jquery.html");break;case 4:e("/html-module/bootstrap.html");break;case 5:e("/html-module/angularjs.html");break;case 6:e("/html-module/react.html");break;case 7:e("/html-module/more.html");break;default:e("/html-module/more.html")}})}function loadContentPage(){$(document).on("click",".leftNav a",function(e){e.preventDefault();var t=$(".content"),a=$(this).attr("href");t.html(GLOBAL.loadingAnimate),$(this).addClass("checked").parent("li").siblings("li").children("a").removeClass("checked"),$.get(a,function(e){GLOBAL.removeLoadingAnimate(),t.html(e);var a=$(".dynamicAnchor ul"),n=$("root[data-root]").find("section"),l=n.length;a.html("");for(var o=0;l>o;o++){n.eq(o).children("h3").attr("id","sec-"+o);var c=n.eq(o).children("h3").html();a.append('<li><a href="#sec-'+o+'">'+c+"</a></li>")}var i=$("div[data-complete-count]");i.attr("data-complete-count","0");var r=$("iframe[data-iframe-coderun].codeEffect"),m=r.length,s=setInterval(function(){var e=i.attr("data-complete-count");if(m==e){for(var t=0;m>t;t++){var a=r.eq(t).contents().find("html").outerHeight();r.eq(t).css("height",a+26+"px")}window.clearInterval(s)}},300)})})}function toggleToTopButton(){var e=$(".main[data-main]").children(".content"),t=e.scrollTop(),a=$("a.toWinTop");t>500?a.css("bottom","6px"):a.css("bottom","-48px")}function contentToTop(){var e=$(".main[data-main]").children(".content");e.scrollTop();e.animate({scrollTop:"0"},600)}function animateScrollTarget(e,t){t.preventDefault;var a=$(e).parent().index(),n=$("section h3").eq(a).offset().top,l=$("[data-main]").children(".content"),o=l.scrollTop();l.animate({scrollTop:o+n-74+"px"},600),$(e).addClass("active").parent().addClass("active").siblings("li").removeClass("active").children().removeClass("active")}function setAnthorAction(){for(var e=$("[data-root]").children("section"),t=e.length,a=0;t>a;a++){var n=e.eq(a).offset().top;if(300>n&&n>-74)return $(".dynamicAnchor li").eq(a).addClass("active"),$(".dynamicAnchor li").eq(a).children("a").addClass("active"),void $(".dynamicAnchor li").eq(a).siblings("li").removeClass("active").children("a").removeClass("active")}}var GLOBAL={loadingAnimate:'<div class="loading"><span></span><span></span><span></span></div>',removeLoadingAnimate:function(){$(".content").children(".loading").remove()}};$(function(){$.get("html-module/html.html",function(e){$(".main .leftNav").html(e)}),$.get("html-pages/html/html-welcome.html",function(e){$(".main .content").html(e)}),$("header nav li").click(function(){navChecked(this)}),leftNavLoad(),loadContentPage(),$(".toggleDynamicAnchor").on("click",function(){var e=0!=$("root[data-root] section").length;e?$(this).next(".dynamicAnchor").toggle(200):$(this).next(".dynamicAnchor").hide(200)}),$(document).off("click",".dynamicAnchor a").on("click",".dynamicAnchor a",function(e){animateScrollTarget(this,e)}),$(".content,.dynamicAnchor").on("click",function(){$(".dynamicAnchor").hide(300)}),$(".content").scroll(function(){toggleToTopButton(),setAnthorAction()}),$("a.toWinTop").on("click",function(){contentToTop()})});
