function navChecked(t){function n(t){$.get(t,function(t){$(".content").html(GLOBAL.loadingAnimate),setTimeout(function(){$(".content").html(t)},10)});var e=location,o=(e.origin,e.pathname,t.substr(t.lastIndexOf("/")+1)),l=o.length,c=o.substr(o.indexOf(".")),i="";".php"==c||".htm"==c||".jsp"==c||".asp"==c||".pyc"==c||".xml"==c?i=o.substr(0,l-4):(c=".html")&&(i=o.substr(0,l-5)),location.href=e.origin+e.pathname+"#"+i}$(t).addClass("checked").siblings("li").removeClass("checked");var e=$(t).index();switch(e){case 0:n("html-pages/html/html-welcome.html");break;case 1:n("html-pages/css/css-welcome.html");break;case 2:n("html-pages/javascript/js-welcome.html");break;case 3:n("html-pages/jquery/jq-welcome.html");break;case 4:n("html-pages/bootstrap/bs-welcome.html");break;case 5:n("html-pages/angularjs/ng-welcome.html");break;case 6:n("html-pages/more/more-welcome.html");break;default:n("html-pages/html/html-welcome.html")}}function leftNavLoad(){$("nav.topNav li").on("click",function(){var t=function(t){$.get(t,function(t){var e=$("nav.leftNav"),n=e.has("ul").length;n&&e.children("ul").remove(),e.html(t)})},e=$(this).index();switch(e){case 0:t("/html-module/html.html");break;case 1:t("/html-module/css.html");break;default:t("/html-module/html.html")}})}function loadContentPage(){$(document).on("click",".leftNav a",function(t){t.preventDefault();var e=$(".content"),n=$(this).attr("href");e.html(GLOBAL.loadingAnimate),$(this).addClass("checked").parent("li").siblings("li").children("a").removeClass("checked"),$.get(n,function(t){GLOBAL.removeLoadingAnimate(),e.html(t);var n=$(".dynamicAnchor ul"),a=$("root[data-root]").find("section"),o=a.length;n.html("");for(var l=0;o>l;l++){a.eq(l).children("h3").attr("id","sec-"+l);var c=a.eq(l).children("h3").html();n.append('<li><a href="#sec-'+l+'">'+c+"</a></li>")}var i=$("div[data-complete-count]");i.attr("data-complete-count","0");var r=$("iframe[data-iframe-coderun].codeEffect"),s=r.length,m=setInterval(function(){var t=i.attr("data-complete-count");if(s==t){for(var e=0;s>e;e++){var n=r.eq(e).contents().find("html").outerHeight();r.eq(e).css("height",n+26+"px")}window.clearInterval(m)}},300)})})}function toggleToTopButton(){var t=$(".main[data-main]").children(".content"),e=t.scrollTop(),n=$("a.toWinTop");e>500?n.css("bottom","6px"):n.css("bottom","-48px")}function contentToTop(){var t=$(".main[data-main]").children(".content");t.scrollTop();t.animate({scrollTop:"0"},600)}function animateScrollTarget(t,e){e.preventDefault;var n=$(t).parent().index(),a=$("section h3").eq(n).offset().top,o=$("[data-main]").children(".content"),l=o.scrollTop();o.animate({scrollTop:l+a-74+"px"},600),$(t).addClass("active").parent().addClass("active").siblings("li").removeClass("active").children().removeClass("active")}function setAnthorAction(){for(var t=$("[data-root]").children("section"),e=t.length,n=0;e>n;n++){var a=t.eq(n).offset().top;if(300>a&&a>-74)return $(".dynamicAnchor li").eq(n).addClass("active"),$(".dynamicAnchor li").eq(n).children("a").addClass("active"),void $(".dynamicAnchor li").eq(n).siblings("li").removeClass("active").children("a").removeClass("active")}}var GLOBAL={loadingAnimate:'<div class="loading"><span></span><span></span><span></span></div>',removeLoadingAnimate:function(){$(".content").children(".loading").remove()}};$(function(){$.get("html-module/html.html",function(t){$(".main .leftNav").html(t)}),$.get("html-pages/html/html-welcome.html",function(t){$(".main .content").html(t)}),$("header nav li").click(function(){navChecked(this)}),leftNavLoad(),loadContentPage(),$(".toggleDynamicAnchor").on("click",function(){var t=0!=$("root[data-root] section").length;t?$(this).next(".dynamicAnchor").toggle(200):$(this).next(".dynamicAnchor").hide(200)}),$(document).off("click",".dynamicAnchor a").on("click",".dynamicAnchor a",function(t){animateScrollTarget(this,t)}),$(".content,.dynamicAnchor").on("click",function(){$(".dynamicAnchor").hide(300)}),$(".content").scroll(function(){toggleToTopButton(),setAnthorAction()}),$("a.toWinTop").on("click",function(){contentToTop()})});
