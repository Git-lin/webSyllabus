function navChecked(e){function a(e){$.get(e,function(e){$(".content").html(GLOBAL.loadingAnimate),setTimeout(function(){$(".content").html(e)},10)});var t=location,n=(t.origin,t.pathname,e.substr(e.lastIndexOf("/")+1)),l=n.length,i=n.substr(n.indexOf(".")),c="";".php"==i||".htm"==i||".jsp"==i||".asp"==i||".pyc"==i||".xml"==i?c=n.substr(0,l-4):(i=".html")&&(c=n.substr(0,l-5)),location.href=t.origin+t.pathname+"#"+c}$(e).addClass("checked").siblings("li").removeClass("checked");var t=$(e).index();switch(t){case 0:a("html-pages/html/html-welcome.html");break;case 1:a("html-pages/css/css-welcome.html");break;case 2:a("html-pages/javascript/js-welcome.html");break;case 3:a("html-pages/jquery/jq-welcome.html");break;case 4:a("html-pages/vuejs/vue-welcome.html");break;case 5:a("html-pages/angularjs/ng-welcome.html");break;case 6:a("html-pages/more/more-welcome.html");break;default:a("html-pages/html/html-welcome.html")}}function leftNavLoad(){$("nav.topNav li").on("click",function(){var e=function(e){$.get(e,function(e){var t=$("nav.leftNav"),a=t.has("ul").length;a&&t.children("ul").remove(),t.html(e)})},t=$(this).index();switch(t){case 0:e("/html-module/html.html");break;case 1:e("/html-module/css.html");break;case 2:e("/html-module/javascript.html");break;case 3:e("/html-module/jquery.html");break;case 4:e("/html-module/vue.html");break;case 5:e("/html-module/angularjs.html");break;case 6:e("/html-module/more.html");break;default:e("/html-module/more.html")}})}function loadContentPage(){$(document).on("click",".leftNav a",function(e){e.preventDefault();var t=$(".content"),a=$(this).attr("href");t.html(GLOBAL.loadingAnimate),$(this).addClass("checked").parent("li").siblings("li").children("a").removeClass("checked"),$.get(a,function(e){GLOBAL.removeLoadingAnimate(),t.html(e);var a=$(".dynamicAnchor ul"),o=$("root[data-root]").find("section"),n=o.length;a.html("");for(var l=0;n>l;l++){o.eq(l).children("h3").attr("id","sec-"+l);var i=o.eq(l).children("h3").html();a.append('<li><a href="#sec-'+l+'">'+i+"</a></li>")}setColorTag(),setCodeStyle("code.cmd","color: #b132ff; font-weight: bold",["html","css","javascript","bootstrap","jquery","vue","angular","react","gulp","webpack","babel"]),setIDEStyle("code.ideCode",lightColorCode);var c=$("div[data-complete-count]");c.attr("data-complete-count","0");var r=$("iframe[data-iframe-coderun].codeEffect"),s=r.length,m=setInterval(function(){var e=c.attr("data-complete-count");if(s==e){for(var t=0;s>t;t++){var a=r.eq(t).contents().find("html").outerHeight();r.eq(t).css("height",a+26+"px")}window.clearInterval(m)}},100)})})}function toggleToTopButton(){var e=$(".main[data-main]").children(".content"),t=e.scrollTop(),a=$("a.toWinTop");t>500?a.css("bottom","6px"):a.css("bottom","-48px")}function contentToTop(){var e=$(".main[data-main]").children(".content");e.scrollTop();e.animate({scrollTop:"0"},600)}function animateScrollTarget(e,t){t.preventDefault;var a=$(e).parent().index(),o=$("section h3").eq(a).offset().top,n=$("[data-main]").children(".content"),l=n.scrollTop();n.animate({scrollTop:l+o-74+"px"},600),$(e).addClass("active").parent().addClass("active").siblings("li").removeClass("active").children().removeClass("active")}function setAnthorAction(){for(var e=$("[data-root]").children("section"),t=e.length,a=0;t>a;a++){var o=e.eq(a).offset().top;if(300>o&&o>-74)return $(".dynamicAnchor li").eq(a).addClass("active"),$(".dynamicAnchor li").eq(a).children("a").addClass("active"),void $(".dynamicAnchor li").eq(a).siblings("li").removeClass("active").children("a").removeClass("active")}}function newGuide(){if(localStorage.getItem("visitTimes")){var e=parseInt(localStorage.getItem("visitTimes"));localStorage.setItem("visitTimes",e+1)}else localStorage.setItem("visitTimes",0),$("body").append('<div class="firstNewGuide"></div><div class="maklayer-white"></div>');var t=$(".firstNewGuide"),a=$(".maklayer-white");$(".leftNav").mouseenter(function(){t.css({"transition-duration":"1.6s",transform:"translate(2000px,-260px) rotate(720deg)",opacity:"0"}),a.fadeOut(600),setTimeout(function(){t.remove(),a.remove()},1600)})}function loginVerify(){var e=$("[data-leftLogin]");$("header .logo").click(function(){e.css({visibility:"visible",opacity:"1",left:"0"})}),$("[data-leftLogin]").click(function(){e.css({visibility:"hidden",opacity:"0",left:"-180px"}),$("body").append('<div class="maklayer-white allMask"></div><div class="loginBox"><div class="closeBox">×</div><h1>请输入您的登录信息</h1><form><div><label>账 号</label><input id="account" type="text" placeholder="请输入指定账号"></div><div><label>密 码</label><input id="accPwd" type="password" placeholder="请输入指定密码"></div><div class="errInfo"></div><div><button id="btnUserLogin" type="button">登 录</button></div></form></div>');var t=$(".loginBox");setTimeout(function(){t.css({visibility:"visible",transform:"scale(1)"})},60),$("#btnUserLogin").click(function(){var e=$("#account").val(),a=$("#accPwd").val();e==GLOBAL.verifyAccount&&a==GLOBAL.verifyPassword?(t.children(".closeBox").click(),shortTimeMessage("登录成功！")):(t.find(".errInfo").text("-_-! 您输入的账号或者密码错误"),$("#account, #accPwd").blur())}),$(document).keydown(function(e){var t=e.keyCode;13==t&&$("#btnUserLogin").click()}),$("#account, #accPwd").focus(function(){t.find(".errInfo").text("")}),t.children(".closeBox").click(function(){$(this).parent().css("transform","scale(0)").prev(".maklayer-white").css("opacity","0"),setTimeout(function(){t.prev().remove(),t.remove()},600)})})}function shortTimeMessage(e){$("body").append('<div class="shortTimeMessage">'+e+"</div>");var t=$(".shortTimeMessage"),a=t.outerWidth(),o=t.outerHeight();t.css({"margin-left":-(a/2)+"px","margin-top":-(o/2)+"px",opacity:"1"}),setTimeout(function(){t.fadeOut(600,function(){$(this).remove()})},1600)}function setColorTag(){for(var e=$("root[data-root] color"),t=e.length,a=0;t>a;a++){var o=e.eq(a),n=e.eq(a).text();o.css("color",n)}}function setCodeStyle(e,t,a){for(var o=a,n=o.length,l=0;n>l;l++){var i=o[l];$(e).each(function(e,a){var o=$(a).html();o=o.replace(new RegExp(i),"<span style='"+t+"'>"+i+"</span>"),$(a).html(o)})}}function setIDEStyle(e,t){for(var a in t)for(var o=t[a],n=o.length,l=0;n>l;l++)$(e).each(function(e,o){var n=$(o).html(),i=!1;"mainObject"===a?(n="$"===t[a][l]?n.replace(new RegExp("\\$","g"),"<span style='color:#ff6d6d'>$</span>"):n.replace(new RegExp(t[a][l],"ig"),"<span style='color:#ff6d6d'>"+t[a][l]+"</span>"),i=!0):"keywords"===a?/^\\/.test(t[a][l])?(n=n.replace(new RegExp(t[a][l],"ig"),"<span style='color:#85e2ff'>"+t[a][l].slice(1)+"</span>"),i=!0):(n=n.replace(new RegExp(t[a][l],"ig"),"<span style='color:#85e2ff'>"+t[a][l]+"</span>"),i=!0):"special"===a&&(n=n.replace(new RegExp(t[a][l],"ig"),"<span style='color:#87ff87'>"+t[a][l]+"</span>"),i=!0),i&&($(o).html(n),i=!1)});$(e).each(function(e,t){for(var a=$(t).html(),o=a.match(/\"[\w\,\#\u3000-\u9FFF\.\-]*\"/g),n=o?o.length:0,l=0;n>l;l++)a=a.replace(new RegExp(o[l],"ig"),"<span style='color:#ffed6a'>"+o[l]+"</span>");0!==n&&$(t).html(a)}),$(e).each(function(e,t){var l,a=$(t).html(),o=/var<\/span>\s\w+/g,n=a.match(o);if(null===n)return void(l=0);l=n.length;for(var i=[],c=0;l>c;c++)i.push(n[c].slice(n[c].lastIndexOf(" ")+1));for(var r=i.length,s=0;r>s;s++)a=a.replace(new RegExp(i[s],"g"),"<span style='color:#ee6aff'>"+i[s]+"</span>");$(t).html(a)}),$(e).each(function(e,t){var l,a=$(t).html(),o=/\/\/\s[\u3000-\u9FFF\w]+/g,n=a.match(o);if(null===n)return void(l=0);l=n.length;for(var i=0;l>i;i++)a=a.replace(new RegExp(n[i],"g"),"<span style='color:#acacac'>"+n[i]+"</span>");$(t).html(a)})}var GLOBAL={loadingAnimate:'<div class="loading"><span></span><span></span><span></span></div>',removeLoadingAnimate:function(){$(".content").children(".loading").remove()},verifyAccount:function(){return localStorage.getItem("account")?localStorage.getItem("account"):(localStorage.setItem("account","aulence"),localStorage.getItem("account"))}(),verifyPassword:function(){return localStorage.getItem("accPwd")?localStorage.getItem("accPwd"):(localStorage.setItem("accPwd",String.fromCharCode(104)+String.fromCharCode(116)+String.fromCharCode(109)+String.fromCharCode(108)+String.fromCharCode(53)+String.fromCharCode(119)+String.fromCharCode(101)+String.fromCharCode(98)),localStorage.getItem("accPwd"))}()},lightColorCode={mainObject:["$","JSON","window","navigator","console","screen","function"],keywords:["var","let ","const ","break ","do ","typeof","if","else","case ","new ","return ","continue","for","swich","while","debugger","this ","with","try","catch","throw","delete ","default","set","get","class","import ","alert","\\.log","\\.error","\\.debug","\\.warn","\\.dir","\\.method","\\.css","\\.val","\\.attr","\\.html","\\.text"],special:["TagName","ClassName","ID","AttributeName","param","params"]};$(function(){newGuide(),$.get("html-module/html.html",function(e){$(".main .leftNav").html(e)}),$.get("html-pages/html/html-welcome.html",function(e){$(".main .content").html(e)}),$("header nav li").click(function(){navChecked(this)}),leftNavLoad(),loadContentPage(),$(".toggleDynamicAnchor").on("click",function(){var e=0!=$("root[data-root] section").length;e?$(this).next(".dynamicAnchor").toggle(200):$(this).next(".dynamicAnchor").hide(200)}),$(document).off("click",".dynamicAnchor a").on("click",".dynamicAnchor a",function(e){animateScrollTarget(this,e)}),$(".content,.dynamicAnchor").on("click",function(){$(".dynamicAnchor").hide(300)}),$(".content").scroll(function(){toggleToTopButton(),setAnthorAction()}),$("a.toWinTop").on("click",function(){contentToTop()}),loginVerify()});
